Ders1--
"""
Bu Python programÄ±, Pandas kÃ¼tÃ¼phanesi kullanÄ±larak veri analizi iÅŸlemleri yapmaktadÄ±r.
Pandas Series ve DataFrame veri yapÄ±larÄ± oluÅŸturulup, Ã¼zerinde Ã§eÅŸitli iÅŸlemler uygulanmaktadÄ±r.
"""

# Gerekli kÃ¼tÃ¼phaneyi iÃ§e aktarÄ±yoruz
import pandas as pd  

# --- Pandas Series KullanÄ±mÄ± ---
# Tek boyutlu bir veri yapÄ±sÄ± olan Pandas Series oluÅŸturuyoruz
s = pd.Series([10, 20, 30, 40], index=["a", "b", "c", "d"])
# Series, listeye benzer ancak her deÄŸere Ã¶zel indeks atanabilir.
print("Pandas Series:\n", s)  # OluÅŸturulan Series'i ekrana yazdÄ±rÄ±yoruz.

# --- Pandas DataFrame KullanÄ±mÄ± ---
# SÃ¶zlÃ¼k (dictionary) veri yapÄ±sÄ± ile bir veri Ã§erÃ§evesi (DataFrame) oluÅŸturuyoruz.
data = {
    "Fiyat": [45, 85, 45, 25],  # ÃœrÃ¼n fiyatlarÄ±nÄ± iÃ§eren bir sÃ¼tun
    "SatÄ±ÅŸ Adedi": [5, 6, 7, 2],  # Her Ã¼rÃ¼nÃ¼n kaÃ§ kez satÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶steren sÃ¼tun
    "Kategori": ["Roman", "Bilim", "Ã‡ocuk", "Tarih"]  # ÃœrÃ¼n kategorileri
}

# Dictionary'den bir DataFrame oluÅŸturuyoruz.
df = pd.DataFrame(data)

# OluÅŸturulan DataFrame'i ekrana yazdÄ±rÄ±yoruz.
print("\nOluÅŸturulan DataFrame:\n", df)

# --- DataFrame hakkÄ±nda bilgi alma iÅŸlemleri ---
# DataFrame'in ilk 5 satÄ±rÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyelim (bu durumda 4 satÄ±r olduÄŸu iÃ§in tÃ¼mÃ¼ gelir).
print("\nDataFrame'in Ä°lk SatÄ±rlarÄ±:\n", df.head())#head iÃ§ine ne yazarsak o sayÄ±da satÄ±r getirir.mesela head(3) olursa 3 satÄ±r getirir

# DataFrame'in yapÄ±sÄ± hakkÄ±nda bilgi almak iÃ§in info() fonksiyonunu kullanÄ±yoruz.
print("\nDataFrame Bilgileri:\n")
print(df.info())  # SÃ¼tun adlarÄ±, veri tipleri,Bellekte kapladÄ±ÄŸÄ± yeri hesaplar ve eksik veri olup olmadÄ±ÄŸÄ± gÃ¶sterilir.

# DataFrame iÃ§indeki sayÄ±sal deÄŸerler iÃ§in istatistiksel Ã¶zet alÄ±yoruz.SayÄ±sal sÃ¼tunlar iÃ§in temel istatistikleri hesaplar (mean, std, min, max, percentiles vb.).
print("\nÄ°statistiksel Ã–zet:\n", df.describe())

# --- Belirli SÃ¼tunlarÄ± SeÃ§me ---
# Sadece "Fiyat" ve "Kategori" sÃ¼tunlarÄ±nÄ± iÃ§eren bir alt tablo oluÅŸturuyoruz.
print("\nFiyat ve Kategori SÃ¼tunlarÄ±:\n", df[["Fiyat", "Kategori"]])#Birden fazla sÃ¼tun seÃ§mek iÃ§in Ã§ift kÃ¶ÅŸeli parantez kullanmamÄ±z gerekir:


# --- Filtreleme Ä°ÅŸlemi ---
# "Fiyat" deÄŸeri 50'den bÃ¼yÃ¼k olan satÄ±rlarÄ± filtreleyelim.
filtre = df[df["Fiyat"] > 50]  
print("\nFiyatÄ± 50'den BÃ¼yÃ¼k Olan ÃœrÃ¼nler:\n", filtre)

# --- Yeni Bir SÃ¼tun Ekleme ---
# "Toplam Gelir" adlÄ± yeni bir sÃ¼tun ekliyoruz. (Fiyat * SatÄ±ÅŸ Adedi)
df["Toplam Gelir"] = df["Fiyat"] * df["SatÄ±ÅŸ Adedi"]
print("\nToplam Gelir SÃ¼tunu EklenmiÅŸ DataFrame:\n", df)

# --- SÃ¼tun Silme Ä°ÅŸlemi ---
# "Kategori" sÃ¼tununu DataFrame'den kaldÄ±rÄ±yoruz.
df = df.drop("Kategori", axis=1)  # axis=1 sÃ¼tun silmek iÃ§in kullanÄ±lÄ±r.axis=0 olsaydÄ± satÄ±r silmek iÃ§in olurdu
print("\nKategori SÃ¼tunu SilinmiÅŸ DataFrame:\n", df)


"""df.head()	Ä°lk 5 satÄ±rÄ± gÃ¶sterir
df.tail()	Son 5 satÄ±rÄ± gÃ¶sterir
df.info()	DataFrame hakkÄ±nda genel bilgileri gÃ¶sterir
df.describe()	SayÄ±sal sÃ¼tunlar iÃ§in istatistiksel Ã¶zet Ã§Ä±karÄ±r
df.shape	SatÄ±r ve sÃ¼tun sayÄ±sÄ±nÄ± gÃ¶sterir"""

Ders2--

#pip install openpyxl yaptÄ±k
# Pandas kÃ¼tÃ¼phanesini iÃ§e aktarÄ±yoruz.
# Bu kÃ¼tÃ¼phane veri analizi yapmak, tablo ÅŸeklindeki verileri yÃ¶netmek ve iÅŸlemler gerÃ§ekleÅŸtirmek iÃ§in kullanÄ±lÄ±r.
import pandas as pd

# Bir Excel dosyasÄ±ndan veriyi okuyoruz ve bir Pandas DataFrame'e yÃ¼klÃ¼yoruz.
# 'teknolojik_urunler.xlsx' dosyasÄ±nÄ±n bulunduÄŸu dizinde olmalÄ±sÄ±n, aksi halde hata alÄ±rsÄ±n.
df = pd.read_excel('teknolojik_urunler.xlsx')

#ilk bir kaÃ§ satÄ±rÄ± oku
print(df.head())
print(df)


# ------------------------- ORTALAMA FÄ°YAT HESAPLAMA -------------------------

# DataFrame'de bulunan "Fiyat (TL)" sÃ¼tununun ortalama (mean) deÄŸerini hesaplÄ±yoruz.
# .mean() metodu, sÃ¼tundaki tÃ¼m sayÄ±larÄ±n toplamÄ±nÄ± alÄ±p, kaÃ§ tane deÄŸer varsa ona bÃ¶lerek ortalamayÄ± hesaplar.
ortalama_fiyat = df['Fiyat (TL)'].mean()

# Hesaplanan ortalama fiyatÄ± ekrana yazdÄ±rÄ±yoruz.
# f-string kullanarak deÄŸiÅŸkeni string iÃ§ine gÃ¶mÃ¼yoruz.
print(f"Ortalama Fiyat : {ortalama_fiyat} TL")


# ------------------------- EN Ã‡OK GELÄ°R GETÄ°REN ÃœRÃœNÃœ SIRALAMA -------------------------

# DataFrame'deki Ã¼rÃ¼nleri kategori bazÄ±nda gruplayarak toplam satÄ±ÅŸlarÄ±nÄ± hesaplÄ±yoruz.
# .groupby('Kategori') â†’ AynÄ± kategoriye sahip Ã¼rÃ¼nleri gruplar.
# ['SatÄ±ÅŸ'] â†’ "SatÄ±ÅŸ" sÃ¼tununu seÃ§er.
# .sum() â†’ AynÄ± kategoriye ait satÄ±ÅŸlarÄ± toplar.
kategori_bazli_satis = df.groupby('Kategori')['SatÄ±ÅŸ'].sum()
print(f"Kategori BazlÄ± SatÄ±ÅŸlar:\n{kategori_bazli_satis}")
#KÃ¶ÅŸeli parantez [] â†’ DataFrame veya Series iÃ§inden sÃ¼tun/satÄ±r seÃ§mek iÃ§in kullanÄ±lÄ±r.
#Normal parantez () â†’ Bir fonksiyon veya metod Ã§aÄŸÄ±rmak iÃ§in kullanÄ±lÄ±r.



# ------------------------- EN Ã‡OK GELÄ°R GETÄ°REN ÃœRÃœNÃœ BULMA -------------------------

# En Ã§ok gelir getiren Ã¼rÃ¼nÃ¼ buluyoruz.
# .loc[] â†’ DataFrameâ€™de belirli bir satÄ±rÄ± seÃ§mek iÃ§in kullanÄ±lÄ±r.
# .idxmax() â†’ Belirtilen sÃ¼tundaki en yÃ¼ksek deÄŸere sahip satÄ±rÄ±n indeksini dÃ¶ndÃ¼rÃ¼r.
max_gelir = df.loc[df['Toplam Fiyat (TL)'].idxmax()]
print(f"En Ã§ok gelir getiren Ã¼rÃ¼n: {max_gelir}")


# ------------------------- BELÄ°RLÄ° FÄ°YAT ÃœSTÃœ ÃœRÃœNLERÄ° SEÃ‡ME -------------------------

# "Fiyat (TL)" sÃ¼tununda 4000 TL'nin Ã¼zerinde olan Ã¼rÃ¼nleri filtreliyoruz.
# df[df['Fiyat (TL)'] > 4000] â†’ DataFrameâ€™den sadece fiyatÄ± 4000â€™den bÃ¼yÃ¼k olan satÄ±rlarÄ± alÄ±r.
fiyat_ust_urunler = df[df['Fiyat (TL)'] > 4000]
print("FiyatÄ± 4000 TL'nin Ã¼zerinde olan Ã¼rÃ¼nler:")
print(fiyat_ust_urunler)


# ------------------------- EXCEL'E KAYDETME -------------------------

# Filtrelenen Ã¼rÃ¼nleri yeni bir Excel dosyasÄ±na kaydediyoruz.
# .to_excel() â†’ DataFrameâ€™i Excel formatÄ±nda dÄ±ÅŸa aktarmak iÃ§in kullanÄ±lÄ±r.
# index=False â†’ Excel dosyasÄ±na yazarken DataFrameâ€™in indeksini eklememek iÃ§in kullanÄ±lÄ±r.
fiyat_ust_urunler.to_excel('fiyati_4000_ustu_olanlar.xlsx', index=False)


# ------------------------- BELÄ°RLÄ° BÄ°R SÃœTUN SEÃ‡ME -------------------------

# "ÃœrÃ¼n AdÄ±" sÃ¼tununu seÃ§iyoruz ve ayrÄ± bir deÄŸiÅŸkene atÄ±yoruz.
# df['ÃœrÃ¼n AdÄ±'] â†’ DataFrameâ€™den sadece "ÃœrÃ¼n AdÄ±" sÃ¼tununu alÄ±r.
urun_adi = df['ÃœrÃ¼n AdÄ±']
print(urun_adi)


Ders3--

# ðŸ“Œ Pandas kÃ¼tÃ¼phanesini iÃ§e aktarÄ±yoruz.
# Pandas, veri analizi yapmak ve Excel, CSV gibi dosyalarÄ± okumak iÃ§in kullanÄ±lÄ±r.
import pandas as pd

# ------------------------- EXCEL DOSYASINI OKUMA -------------------------

# ðŸ“Œ Bir Excel dosyasÄ±ndan veriyi okuyoruz ve bir Pandas DataFrame'e yÃ¼klÃ¼yoruz.
# 'teknolojik_urunler1.xlsx' dosyasÄ±nÄ±n bulunduÄŸu dizinde olmalÄ±sÄ±n, aksi halde hata alÄ±rsÄ±n.
df = pd.read_excel('teknolojik_urunler1.xlsx')

# ------------------------- EKSÄ°K VERÄ°LERÄ° BULMA -------------------------

# ðŸ“Œ DataFrame iÃ§inde eksik (NaN) deÄŸerleri bulmak iÃ§in .isnull() metodunu kullanÄ±yoruz.
# Bu metod, her hÃ¼cre iÃ§in True (eksik veri) veya False (eksik deÄŸil) olacak ÅŸekilde bir DataFrame oluÅŸturur.
#eksik_veriler = df.isnull()

# ðŸ“Œ Eksik verileri ekrana yazdÄ±rÄ±yoruz.
#print(eksik_veriler)

# ------------------------- EKSÄ°K VERÄ°LERÄ° TEMÄ°ZLEME (NA DEÄžERLERÄ° SÄ°LME) -------------------------

# ðŸ“Œ .dropna() metodunu kullanarak eksik (NaN) deÄŸeri iÃ§eren tÃ¼m satÄ±rlarÄ± siliyoruz.
# EÄŸer bir satÄ±rda herhangi bir hÃ¼cre NaN (eksik) ise, o satÄ±r tamamen kaldÄ±rÄ±lÄ±r.
#temiz_df = df.dropna()

# ðŸ“Œ Eksik veriler silindikten sonra oluÅŸan yeni DataFrame'i ekrana yazdÄ±rÄ±yoruz.
#print(temiz_df)

# ------------------------- EKSÄ°K VERÄ°LERÄ° DOLDURMA (YORUMA ALINMIÅž KISIM) -------------------------

# ðŸ“Œ EÄŸer eksik verileri silmek yerine belirli bir deÄŸerle doldurmak istiyorsak .fillna() metodunu kullanabiliriz.
# Burada eksik deÄŸerlerin yerine "DeÄŸer Yok" ifadesini koyuyoruz.

#doldurulmus_df = df.fillna("DeÄŸer Yok")
#print(doldurulmus_df)

# ðŸ“Œ EÄŸer eksik veriler iÃ§in Ã¶zel bir deÄŸeri tercih ediyorsan, yukarÄ±daki satÄ±rÄ±n yorumunu kaldÄ±rarak kullanabilirsin.

# ------------------------- VERÄ° TÄ°PÄ°NÄ° DÃ–NÃœÅžTÃœRME (YORUMA ALINMIÅž KISIM) -------------------------

# ðŸ“Œ EÄŸer "Fiyat(TL)" sÃ¼tunu yanlÄ±ÅŸlÄ±kla string (metin) tÃ¼rÃ¼nde saklanÄ±yorsa, onu float (ondalÄ±klÄ± sayÄ±) formatÄ±na Ã§evirebiliriz.
# .astype('float') metodu, belirtilen sÃ¼tunun veri tipini deÄŸiÅŸtirir.

#df['Fiyat (TL)'] = df['Fiyat (TL)'].astype('float')
#print(df.dtypes)

# ðŸ“Œ EÄŸer yukarÄ±daki kodu Ã§alÄ±ÅŸtÄ±rÄ±rken hata alÄ±rsan, sÃ¼tunun iÃ§inde sayÄ±lar yerine metin olup olmadÄ±ÄŸÄ±nÄ± kontrol etmelisin.
# EÄŸer sÃ¼tunda virgÃ¼llÃ¼ sayÄ±lar varsa (Ã¶rn: "1.000,50"), Ã¶nce `df['Fiyat(TL)'] = df['Fiyat(TL)'].str.replace(",", ".").astype(float)` gibi bir dÃ¶nÃ¼ÅŸtÃ¼rme yapmalÄ±sÄ±n.

# ------------------------- YENÄ° SÃœTUN EKLEME (YORUMA ALINMIÅž KISIM) -------------------------

# ðŸ“Œ insert() metoduyla DataFrame'e yeni bir sÃ¼tun ekleyebiliriz.
# Ä°lk parametre (2), sÃ¼tunun kaÃ§Ä±ncÄ± sÃ¼tun olarak ekleneceÄŸini belirtir.
# "Yeni SÃ¼tun" adÄ±yla, 1'den 20'ye kadar sayÄ±lar iÃ§eren bir sÃ¼tun ekliyoruz.

df.insert(loc=2, column='Yeni SÃ¼tun', value=range(1, len(df) + 1))

# ðŸ“Œ Yeni eklenen sÃ¼tunun sonucunu gÃ¶rmek iÃ§in df.head() kullanarak ilk 5 satÄ±rÄ± yazdÄ±rÄ±yoruz.

print(df.head())
print(df.columns.tolist())  # SÃ¼tun isimlerini liste halinde yazdÄ±r
print(df)  # DataFrameâ€™in tamamÄ±nÄ± yazdÄ±r


# ðŸ“Œ EÄŸer yukarÄ±daki kodu Ã§alÄ±ÅŸtÄ±rÄ±rken hata alÄ±rsan, DataFrame'deki satÄ±r sayÄ±sÄ±nÄ± kontrol etmelisin.
# `range(1,21)`, 20 satÄ±rlÄ±k bir veri oluÅŸturur. EÄŸer DataFrame'inde 20 satÄ±rdan az veya fazla satÄ±r varsa, `range(1, len(df) + 1)` kullanabilirsin.

# ------------------------- VERÄ°YÄ° EXCEL DOSYASINA KAYDETME -------------------------

# ðŸ“Œ .to_excel() metodunu kullanarak DataFrameâ€™i yeni bir Excel dosyasÄ±na kaydediyoruz.
# 'toexcel.xlsx' adlÄ± yeni bir dosya oluÅŸturulur ve DataFrame iÃ§indeki veriler buraya yazÄ±lÄ±r.
# index=False â†’ DataFrame'in index sÃ¼tununun (varsayÄ±lan 0,1,2,3...) Excel dosyasÄ±na kaydedilmesini engeller.
df.to_excel('toexcel.xlsx', index=False)

# ðŸ“Œ KullanÄ±cÄ±ya veri kaydÄ±nÄ±n tamamlandÄ±ÄŸÄ±nÄ± bildiren bir mesaj yazdÄ±rÄ±yoruz.
print("Veri kayÄ±t edildi")

# ------------------------- VERÄ°LERÄ° SIRALAMA (BÃœYÃœKTEN KÃœÃ‡ÃœÄžE) -------------------------

# ðŸ“Œ .sort_values() metodunu kullanarak "Fiyat(TL)" sÃ¼tununa gÃ¶re sÄ±ralama yapÄ±yoruz.
# `ascending=False` â†’ SÄ±ralamayÄ± bÃ¼yÃ¼kten kÃ¼Ã§Ã¼ÄŸe yapar (en pahalÄ± Ã¼rÃ¼n en Ã¼stte olur).
df_dÃ¼sÃ¼k = df.sort_values(by='Fiyat (TL)', ascending=False)

# ðŸ“Œ SÄ±ralanmÄ±ÅŸ veriyi ekrana yazdÄ±rÄ±yoruz.
print(df_dÃ¼sÃ¼k)

# ðŸ“Œ EÄŸer fiyatlarÄ± kÃ¼Ã§Ã¼kten bÃ¼yÃ¼ÄŸe sÄ±ralamak istersen `ascending=True` kullanmalÄ±sÄ±n.
# Ã–rneÄŸin:
df_yÃ¼ksel = df.sort_values(by='Fiyat (TL)', ascending=True)
print(df_yÃ¼ksel)




#Ders4--
# ðŸ“Œ 1. Filtreleme: Hem fiyatÄ± 5000 TL'den bÃ¼yÃ¼k olan hem de kategorisi "Bilgisayarlar" olan Ã¼rÃ¼nleri seÃ§iyoruz.

# df[...] â†’ DataFrame Ã¼zerinde koÅŸullu filtreleme yapar.
# (df['Fiyat (TL)'] > 5000) â†’ "Fiyat (TL)" sÃ¼tununda 5000 TL'den bÃ¼yÃ¼k deÄŸerleri kontrol eder.
# (df['Kategori'] == 'Bilgisayarlar') â†’ Kategorisi tam olarak "Bilgisayarlar" olanlarÄ± kontrol eder.
# & â†’ Ä°ki koÅŸulun **ve** (AND) operatÃ¶rÃ¼dÃ¼r. Ä°ki koÅŸul da saÄŸlanmalÄ±.
# Parantez iÃ§inde yazmamÄ±z gerekir, yoksa hata alÄ±rÄ±z!

df_filtre = df[(df['Fiyat (TL)'] > 5000) & (df['Kategori'] == 'Bilgisayarlar')]

# ðŸ“Œ SonuÃ§: KoÅŸullarÄ± saÄŸlayan Ã¼rÃ¼nleri yazdÄ±r.
print(df_filtre)



# ðŸ“Œ 2. Belirli SÃ¼tunlarÄ± SeÃ§me: "ÃœrÃ¼n AdÄ±" ve "Fiyat (TL)" sÃ¼tunlarÄ±nÄ± seÃ§iyoruz.

# df.loc[:, ['ÃœrÃ¼n AdÄ±', 'Fiyat (TL)']] â†’ loc[] hem satÄ±r hem sÃ¼tun seÃ§meye yarar.
# Ä°lk kÄ±sÄ±m (:) â†’ tÃ¼m satÄ±rlarÄ± ifade eder.
# Ä°kinci kÄ±sÄ±m ['ÃœrÃ¼n AdÄ±', 'Fiyat (TL)'] â†’ yalnÄ±zca bu iki sÃ¼tunu alÄ±r.

df_secili = df.loc[:, ['ÃœrÃ¼n AdÄ±', 'Fiyat (TL)']]

# ðŸ“Œ SonuÃ§: Sadece bu iki sÃ¼tunu iÃ§eren alt tabloyu yazdÄ±r.
print(df_secili)



# ðŸ“Œ 3. Ä°lk 5 SatÄ±rÄ± ve TÃ¼m SÃ¼tunlarÄ± SeÃ§me

# df.iloc[:5, :] â†’ iloc[] metodu, satÄ±r ve sÃ¼tunlarÄ± **indeks (sayÄ±sal sÄ±ra)** ile seÃ§er.
# :5 â†’ 0'dan baÅŸlayarak 5'e kadar (0, 1, 2, 3, 4) ilk 5 satÄ±rÄ± alÄ±r.
# : â†’ tÃ¼m sÃ¼tunlarÄ± seÃ§ demektir.

df_ilk = df.iloc[:5, :]

# ðŸ“Œ SonuÃ§: Ä°lk 5 satÄ±rlÄ±k veriyi gÃ¶sterir.
print(df_ilk)



# ðŸ“Œ 4. .query() ile KoÅŸullu SeÃ§im: "Fiyat (TL)" deÄŸeri 5000'den bÃ¼yÃ¼k olanlarÄ± filtreliyoruz.

# .query() fonksiyonu, SQL benzeri bir sÃ¶zdizimiyle filtreleme yapar.
# SÃ¼tun adÄ±nda boÅŸluk veya Ã¶zel karakter varsa, ` (backtick) iÃ§inde yazmamÄ±z gerekir.

df_sorgu = df.query('`Fiyat (TL)` > 5000')

# ðŸ“Œ SonuÃ§: FiyatÄ± 5000'den bÃ¼yÃ¼k olan Ã¼rÃ¼nleri gÃ¶ster.
print(df_sorgu)



# ðŸ“Œ 5. .query() ile baÅŸka bir koÅŸullu seÃ§im: "SatÄ±ÅŸ" deÄŸeri 5'ten bÃ¼yÃ¼k olan Ã¼rÃ¼nler.

# Burada sÃ¼tun adÄ± sade olduÄŸu iÃ§in backtick (`) kullanmamÄ±za gerek yok.
# Bu filtre, yalnÄ±zca "SatÄ±ÅŸ" sayÄ±sÄ± 5'ten bÃ¼yÃ¼k olan satÄ±rlarÄ± getirir.

df_sorgu = df.query('SatÄ±ÅŸ > 5')

# ðŸ“Œ SonuÃ§: SatÄ±ÅŸ sayÄ±sÄ± 5'in Ã¼zerinde olan Ã¼rÃ¼nler listelenir.
print(df_sorgu)



# ðŸ“Œ 6. isin() ile Birden Fazla Kategoriye GÃ¶re Filtreleme

# df['Kategori'].isin([...]) â†’ "Kategori" sÃ¼tunu belirtilen deÄŸerlerden birine eÅŸitse True dÃ¶ner.
# Yani kategori "Bilgisayarlar" veya "Mobil Cihazlar" olan satÄ±rlarÄ± filtrelemiÅŸ oluyoruz.

df_kategoriler = df[df['Kategori'].isin(['Bilgisayarlar', 'Mobil Cihazlar'])]

# ðŸ“Œ SonuÃ§: Sadece istenen iki kategoriye ait satÄ±rlar gÃ¶sterilir.
print(df_kategoriler)


--------------------------------------------

import pandas as pd
#excel dosyasÄ±nÄ± oku
df = pd.read_excel('teknolojik_urunler.xlsx')

gruplar = df.groupby('Kategori')

toplam_satis = df.groupby('Kategori')['SatÄ±ÅŸ'].sum()
print(toplam_satis)
#Her kategori grubundaki â€œSatÄ±ÅŸâ€ sÃ¼tunundaki deÄŸerlerin toplamÄ±nÄ± verir.
#Ã–rn: â€œTelefonâ€ kategorisindeki tÃ¼m satÄ±ÅŸlarÄ±n toplamÄ± kaÃ§? gibi.

toplam_satis_fiyat = df.groupby('Kategori')['Fiyat (TL)'].sum()
print(toplam_satis_fiyat)
#Kategorilere gÃ¶re tÃ¼m Ã¼rÃ¼nlerin fiyatlarÄ±nÄ±n toplamÄ±nÄ± verir (toplam fiyat).

# ortalama_satis_fiyati = df.groupby('Kategori')['Fiyat (TL)'].mean()
#Kategorilere gÃ¶re Ã¼rÃ¼nlerin ortalama fiyatÄ±nÄ± verir (ortalama fiyat).



toplam_ve_ortalama = df.groupby('Kategori').agg(
     {
        'SatÄ±ÅŸ':'sum',
        'Fiyat (TL)': 'mean'
    })
print(toplam_ve_ortalama)

#.agg(): Birden fazla istatistiksel iÅŸlemi aynÄ± anda yapmanÄ± saÄŸlar.

#'SatÄ±ÅŸ': 'mean': Her kategori iÃ§in satÄ±ÅŸlarÄ±n ortalamasÄ±nÄ± al.

#'Fiyat (TL)': 'mean': AynÄ± ÅŸekilde fiyatlarÄ±n ortalamasÄ±nÄ± da al.



en_pahali_urun = df.loc[df.groupby('Kategori')['Fiyat (TL)'].idxmax()]
print(en_pahali_urun)

#groupby('Kategori'): Grupluyoruz yine.
#['Fiyat (TL)'].idxmax(): Her grupta (kategori) en yÃ¼ksek fiyatÄ±n satÄ±r indeksini buluyoruz.
#df.loc[...]: Bu indekslere karÅŸÄ±lÄ±k gelen Ã¼rÃ¼nleri Ã§ekiyoruz. âœ… SonuÃ§: Her kategorideki en pahalÄ± Ã¼rÃ¼nÃ¼ bulur.



satis_ust_gruplar = df.groupby('Kategori').filter(lambda x: x['SatÄ±ÅŸ'].sum() > 50)
print(satis_ust_gruplar[['Kategori','ÃœrÃ¼n AdÄ±','SatÄ±ÅŸ','Fiyat (TL)']])
#df.groupby('Kategori'): Kategorilere gÃ¶re Ã¼rÃ¼nleri grupla.

#.filter(...): Gruplar Ã¼zerinde filtreleme yap.

#lambda x: x burada her bir grubu temsil eder.

#x['SatÄ±ÅŸ'].sum() > 50: Bu grup iÃ§indeki toplam satÄ±ÅŸ 50â€™den bÃ¼yÃ¼kse geÃ§er, deÄŸilse elener.

#âœ… SonuÃ§: Sadece toplam satÄ±ÅŸÄ± 50â€™nin Ã¼zerinde olan kategorilerdeki Ã¼rÃ¼nleri 




x=0.5
f=(x-1)**2*(x-2)*(x-3)
f1=2*(x-1)*(x-2)*(x-3) + (x-1)**2*(2*x-5)
f2=2*(x-2)*(x-3) + 4*(x-1)*(2*x-5) + 2*(x-1)**2 
dx=-f1/f2


iteration=0
print(iteration,'x:',x,'f:',f,'f1:',f1,'f2:',f2,'dx:',dx)
while abs (f1)>1e-10:
    iteration +=1
    x=x+dx
    f=(x-1)**2*(x-2)*(x-3)
    f1=2*(x-1)*(x-2)*(x-3) + (x-1)**2*(2*x-5)
    f2=2*(x-2)*(x-3) + 4*(x-1)*(2*x-5) + 2*(x-1)**2 
    dx=-f1/f2
    print(iteration,'x:',round(x,4),'f:',round(f,4),'f1:',round(f1,4),'f2:',round(f2,4),'dx',round(dx,4))

"""



